(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){"use strict";(function(e){var n=a(3),l=a(4),r=a(20),s=a.n(r),i=a(21),o=function(){function t(){Object(n.a)(this,t)}return Object(l.a)(t,[{key:"login",value:function(t){var a=i.a.api_login,n=t.email+":"+t.password,l=e.from(n).toString("base64");return s()({method:"post",url:a,headers:{Authorization:"Basic "+l}})}},{key:"addUser",value:function(e){var t=i.a.api_add_user;return s.a.post(t,{email:e.email,password:e.password})}},{key:"getAdverts",value:function(e,t,a){var n=i.a.api_get_adverts;return s.a.get(n,{headers:{"Content-Type":"application/json"}}).then(function(e){a(e.data)}).catch(function(e){console.log("the following error has occured:"+e.stack)})}},{key:"delAdvertById",value:function(e){var t=i.a.api_del_advert_by_id+e;return s.a.delete(t)}},{key:"getMessagesByRecipient",value:function(e){var t=localStorage.getItem("MyStuffLogin"),a=i.a.api_get_message_by_recipient+t;return s.a.get(a,{headers:{"Content-Type":"application/json"}})}},{key:"addAdvert",value:function(e){var t=i.a.api_add_advert;return s.a.post(t,e)}},{key:"sendMessage",value:function(e){var t=i.a.api_send_message;return s.a.post(t,e)}}]),t}();t.a=o}).call(this,a(141).Buffer)},118:function(e,t,a){},123:function(e,t,a){e.exports=a.p+"static/media/CU_Logo.16120f43.png"},125:function(e,t,a){e.exports=a(315)},130:function(e,t,a){},132:function(e,t,a){},134:function(e,t,a){},139:function(e,t,a){},165:function(e,t,a){},169:function(e,t,a){},171:function(e,t,a){},173:function(e,t,a){},21:function(e,t,a){"use strict";var n=a(3),l=function e(){Object(n.a)(this,e)};l.api_add_user=(l.api_host=(l.cors_proxy_url="https://cors-anywhere.herokuapp.com/")+"https://mystuff-api.herokuapp.com")+(l.api_path="/api/v1.0")+"/users",l.api_login=l.api_host+l.api_path+"/login",l.api_get_adverts=l.api_host+l.api_path+"/adverts",l.api_add_advert=l.api_host+l.api_path+"/adverts",l.api_del_advert_by_id=l.api_host+l.api_path+"/adverts/",l.api_send_message=l.api_host+l.api_path+"/messages",l.api_get_message_by_recipient=l.api_host+l.api_path+"/messages/",t.a=l},306:function(e,t,a){},308:function(e,t,a){},311:function(e,t,a){},313:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(119),s=a.n(r),i=(a(130),a(3)),o=a(4),c=a(7),u=a(6),h=a(8),d=a(1),m=a(318),p=a(316),g=a(319),b=(a(132),a(134),a(120)),v=a.n(b),f=a(317),E=(a(139),a(10)),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={messageData:[]},a.refreshAdverts=a.refreshAdverts.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleLogout",value:function(e){localStorage.removeItem("MyStuffLogin")}},{key:"refreshAdverts",value:function(){(new E.a).getAdverts(12,1,this.props.updateAdvertData)}},{key:"render",value:function(){var e=localStorage.getItem("MyStuffLogin");return e?l.a.createElement("div",{className:"menuBar"},l.a.createElement(f.a,{to:"/",exact:!0,activeStyle:{boxShadow:"0 1px 12px 0 rgba(0, 0, 0, 0.7), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",border:"1px solid white"},onClick:this.refreshAdverts,className:"addAdvertB"},"Home"),l.a.createElement(f.a,{to:"/addAdvert",activeStyle:{boxShadow:"0 1px 12px 0 rgba(0, 0, 0, 0.7), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",border:"1px solid white"},className:"addAdvertB"},"Add Advert"),l.a.createElement("a",{href:"/",onClick:this.handleLogout,className:"loginB"},"Logout"),l.a.createElement(f.a,{to:"/myMessages",activeStyle:{boxShadow:"0 1px 12px 0 rgba(0, 0, 0, 0.7), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",border:"1px solid white"},className:"signupB"},"My Messages"),l.a.createElement("p",{className:"loggedUser"},"Hello ",l.a.createElement("b",null,e))):l.a.createElement("div",{className:"menuBar"},l.a.createElement(f.a,{to:"/",exact:!0,activeStyle:{boxShadow:"0 1px 12px 0 rgba(0, 0, 0, 0.7), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",border:"1px solid white"},onClick:this.refreshAdverts,className:"addAdvertB"},"Home"),l.a.createElement(f.a,{to:"/signup",activeStyle:{boxShadow:"0 1px 12px 0 rgba(0, 0, 0, 0.7), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",border:"1px solid white"},className:"signupB"},"Sign Up"),l.a.createElement(f.a,{to:"/login",activeStyle:{boxShadow:"0 1px 12px 0 rgba(1, 0, 0, 0.7), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",border:"1px solid white"},className:"loginB"},"Log In"))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={searchTerm:"",headerStyle:{backgroundColor:a.props.backgroundColor}},a.handleSearchSubmit=a.handleSearchSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleTextChange=a.handleTextChange.bind(Object(d.a)(Object(d.a)(a))),a.handleTitleClick=a.handleTitleClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleTextChange",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"handleSearchSubmit",value:function(e){e.preventDefault(),this.props.onSearchClick(this.state.searchTerm)}},{key:"handleTitleClick",value:function(){null!=this.props.onClickTitle&&this.props.onClickTitle()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"header",style:this.state.headerStyle},l.a.createElement("img",{src:this.props.logo,alt:"React logo"}),l.a.createElement("a",{href:"/",className:"logo",onClick:this.handleTitleClick},this.props.title),l.a.createElement("div",{className:"header-right"},l.a.createElement("div",{className:"search-container"},l.a.createElement("form",{action:""},l.a.createElement("input",{type:"text",placeholder:"Search..",name:"txtSearch",onChange:this.handleTextChange,value:this.state.searchTerm}),l.a.createElement("button",{type:"submit",onClick:function(t){t.preventDefault(),e.props.onSearchClick(e.state.searchTerm)}},l.a.createElement(v.a,{name:"fas fa-search"})))))),l.a.createElement(y,{updateAdvertData:this.props.updateAdvertData}))}}]),t}(n.Component),j=(a(165),a(68)),S=a.n(j),k=a(121),w=a(164),O=(a(169),a(171),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={delSuccess:!1},a.handleAdvertDel=a.handleAdvertDel.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleAdvertDel",value:function(){var e=this;console.log("delete advert with id "+this.props.id);var t=this.props.id;(new E.a).delAdvertById(t).then(function(t){200===t.status&&e.setState({delSuccess:!0})}).catch(function(e){console.log("Cant delete advert "+e)})}},{key:"render",value:function(){var e;return!0===this.state.delSuccess&&(e=l.a.createElement("p",{className:"delMessage"},"Advert has been successfuly deleted"),window.location.reload()),l.a.createElement("div",{className:"area"},l.a.createElement("div",{className:"unpublishB",onClick:this.handleAdvertDel},"Unpublish"),e)}}]),t}(n.Component)),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={fullAdvert:!1},a.onClickHandler=a.onClickHandler.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"onClickHandler",value:function(){var e=Object(k.a)(S.a.mark(function e(t){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.props.onClick(this.props.id),e.next=4,this.setState({fullAdvert:!0});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;localStorage.setItem("recipient",this.props.author);var t=localStorage.getItem("MyStuffLogin");return e=t===this.props.author?null:l.a.createElement(w.a,{to:"sendMessage",className:"loginB",style:{float:"right"}},"Contact seller"),l.a.createElement("div",{className:"card",onClick:this.onClickHandler},t===this.props.author?l.a.createElement(O,{id:this.props.id}):null,!1===this.state.fullAdvert?l.a.createElement("span",{className:"priceArea"},"\xa3",this.props.askingPrice):null,l.a.createElement("img",{src:this.props.image,alt:this.props.imgAlt,style:{width:"100%"}}),l.a.createElement("div",{className:"container"},l.a.createElement("button",{className:"linkButton"},l.a.createElement("h4",null,l.a.createElement("b",null,this.props.title))),l.a.createElement("hr",null),this.props.author?l.a.createElement("p",null,l.a.createElement("b",null,"Seller: "),this.props.author,e):null,this.props.category?l.a.createElement("p",null,l.a.createElement("b",null,"Category: "),this.props.category):null,this.props.itemCondition?l.a.createElement("p",null,l.a.createElement("b",null,"Condition: "),this.props.itemCondition):null,!0===this.state.fullAdvert?l.a.createElement("p",null,l.a.createElement("b",null,"Price: "),"\xa3",this.props.askingPrice):null,this.props.city?l.a.createElement("p",null,l.a.createElement("b",null,"City: "),this.props.city):null,l.a.createElement("br",null),this.props.description?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("b",null,"Description")),l.a.createElement("p",null,this.props.description)," "):null))}}]),t}(n.Component),M=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"GridRow",value:function(e,t){var a,n=this;if(null==e)return null;var r=parseInt(this.props.colClass.substr(-1)),s=this.props.colClass.substr(0,this.props.colClass.length-1);if(this.props.rowLength*r<12){var i=s+Math.floor((12-this.props.rowLength*r)/2);a=l.a.createElement("div",{className:i},"\xa0")}else a=null;return l.a.createElement("div",{className:"row",key:t},a,e.map(function(e,t){return l.a.createElement("div",{className:n.props.colClass,key:e.id},l.a.createElement(N,{image:e.photo,title:e.title,author:e.author,category:e.category,itemCondition:e.ItemCondition,askingPrice:e.askingPrice,city:e.city,description:e.description,onClick:n.props.onClick,id:e.id}))}))}},{key:"render",value:function(){if(0===this.props.adverts.length)return l.a.createElement("h1",null,"There are currently no adverts");if(console.log("Current adverts displayed: "+this.props.adverts.length),null==this.props.adverts)return null;for(var e=[],t=this.props.adverts.length,a=Math.ceil(t/this.props.rowLength),n=0;n<a;){for(var r=[],s=0;s<this.props.rowLength;s++){var i=s+n*this.props.rowLength;i<t&&r.push(this.props.adverts[i])}n++,e.push(this.GridRow(r,n))}return l.a.createElement("div",null,e)}}]),t}(n.Component),A=(a(173),a(13)),x=a(17),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).SignupSchema=x.object().shape({email:x.string().email("Invalid email").required("Field required"),password:x.string().min(2,"Too Short!").max(16,"Too Long!").required("Field required"),rePassword:x.string().min(2,"Too Short!").max(16,"Too Long!").required("Field required").oneOf([x.ref("password"),null])}),a.state={success:!1,existingUser:"hidden"},a.onClick=a.onClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"onClick",value:function(){this.setState({currentView:"login"})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(A.c,{initialValues:{email:"",password:"",rePassword:""},validationSchema:this.SignupSchema,onSubmit:function(t){var a={email:t.email,password:t.password};(new E.a).addUser(a).then(function(t){201===t.status&&e.setState({success:!0})}).catch(function(t){e.setState({existingUser:"visible"})})}},function(t){var a=t.errors,n=t.touched;return l.a.createElement(A.b,{className:"signupForm"},l.a.createElement("h1",null,"Signup"),l.a.createElement("label",{htmlFor:"email"},"E-mail"),l.a.createElement(A.a,{placeholder:"Enter your email address",className:"input",name:"email",type:"email"}),l.a.createElement("div",{className:"warningArea"},a.email&&n.email?l.a.createElement("div",{className:"warning"},a.email):null),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement(A.a,{name:"password",type:"password",className:"input",placeholder:"Enter your pasword"}),l.a.createElement("div",{className:"warningArea"},a.email&&n.email?l.a.createElement("div",{className:"warning"},a.email):null),l.a.createElement("label",{htmlFor:"password"},"Repeat Password"),l.a.createElement(A.a,{name:"rePassword",type:"password",className:"input",placeholder:"Repeat your password"}),l.a.createElement("div",{className:"warningArea"},a.email&&n.email?l.a.createElement("div",{className:"warning"},a.email):null),l.a.createElement("div",{className:"warningAreaBottom"},!0===e.state.success?l.a.createElement("p",{className:"succesMsg"},l.a.createElement("b",null,"Your account has been created! ",l.a.createElement(w.a,{to:"/login"},"Log In"))):null,"visible"===e.state.existingUser?l.a.createElement("div",null,l.a.createElement("b",null,"User already exists!")):null),l.a.createElement("div",{className:"buttonsContainer"},l.a.createElement("button",{type:"submit"},"Submit"),l.a.createElement("p",null,"Already have account?"),l.a.createElement(w.a,{to:"/login"},l.a.createElement("button",{onClick:e.onClick,className:"loginButton"},"Log In"))))}))}}]),t}(n.Component),D=(a(306),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).LoginSchema=x.object().shape({email:x.string().email("Invalid email").required("Field required!"),password:x.string().min(2,"Too Short!").max(16,"Too Long!").required("Field required!")}),a.state={wrongDetailsMsg:"hidden",redirectToHome:!1},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return!0===this.state.redirectToHome?l.a.createElement(g.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement(A.c,{initialValues:{email:"",password:""},validationSchema:this.LoginSchema,onSubmit:function(t){var a={email:t.email,password:t.password};(new E.a).login(a).then(function(a){201===a.status&&(localStorage.setItem("MyStuffLogin",t.email),e.setState({redirectToHome:!0}))}).catch(function(t){e.setState({wrongDetailsMsg:"visible"})})}},function(t){var a=t.errors,n=t.touched;return l.a.createElement(A.b,{className:"loginForm"},l.a.createElement("h1",null,"Login"),l.a.createElement("label",{htmlFor:"email"},"E-mail"),l.a.createElement(A.a,{placeholder:"Enter your email address",className:"input",name:"email",type:"email"}),l.a.createElement("div",{className:"warningArea"},a.email&&n.email?l.a.createElement("div",{className:"warning"},a.email):null),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement(A.a,{name:"password",type:"password",className:"input",placeholder:"Enter your pasword"}),l.a.createElement("div",{className:"warningArea"},a.password&&n.password?l.a.createElement("div",{className:"warning"},a.password):null),l.a.createElement("div",{className:"warningAreaBottom"},"visible"===e.state.wrongDetailsMsg?l.a.createElement("div",null,l.a.createElement("b",null,"Wrong email or password!")):null),l.a.createElement("div",{className:"buttonsContainer"},l.a.createElement("button",{type:"submit"},"Log In"),l.a.createElement("p",null,"Don't have account yet?"),l.a.createElement(w.a,{to:"/signup"},l.a.createElement("button",{type:"button",className:"loginButton"},"Sign Up"))))}))}}]),t}(n.Component)),P=(a(308),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={title:"",categoryValue:"",conditionValue:"",price:"",city:"",description:"",photo:null,success:!1},a.handleTitleChange=a.handleTitleChange.bind(Object(d.a)(Object(d.a)(a))),a.handleCategoryChange=a.handleCategoryChange.bind(Object(d.a)(Object(d.a)(a))),a.handleConditionChange=a.handleConditionChange.bind(Object(d.a)(Object(d.a)(a))),a.handlePriceChange=a.handlePriceChange.bind(Object(d.a)(Object(d.a)(a))),a.handleCityChange=a.handleCityChange.bind(Object(d.a)(Object(d.a)(a))),a.handleDescriptionChange=a.handleDescriptionChange.bind(Object(d.a)(Object(d.a)(a))),a.handleFileChange=a.handleFileChange.bind(Object(d.a)(Object(d.a)(a))),a.onClick=a.onClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"handleCategoryChange",value:function(e){this.setState({categoryValue:e.target.value})}},{key:"handleConditionChange",value:function(e){this.setState({conditionValue:e.target.value})}},{key:"handlePriceChange",value:function(e){this.setState({price:e.target.value})}},{key:"handleCityChange",value:function(e){this.setState({city:e.target.value})}},{key:"handleDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"handleFileChange",value:function(e){this.setState({photo:e.target.files[0]})}},{key:"onClick",value:function(){var e=this,t=localStorage.getItem("MyStuffLogin"),a=new FormData;a.append("author",t),a.append("askingPrice",this.state.price),""===this.state.title?(console.log("Please provide a title"),this.setState({title:"errorMsg"})):a.append("title",this.state.title),""===this.state.description?(console.log("Please provide a description"),this.setState({description:"errorMsg"})):a.append("description",this.state.description),this.state.photo?a.append("photo",this.state.photo,this.state.photo.name):(console.log("Please upload photo"),this.setState({photo:"errorMsg"})),""===this.state.categoryValue?(console.log("Please provide a category"),this.setState({categoryValue:"errorMsg"})):a.append("category",this.state.categoryValue),""===this.state.conditionValue?(console.log("Please set the condition of your item"),this.setState({conditionValue:"errorMsg"})):a.append("ItemCondition",this.state.conditionValue),""===this.state.city?(console.log("Please provide a city"),this.setState({city:"errorMsg"})):a.append("city",this.state.city),(new E.a).addAdvert(a).then(function(t){201===t.status&&e.setState({success:!0}),console.log(t)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("form",{className:"addAdvertForm"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"title"},l.a.createElement("b",null,"Title:")),"errorMsg"===this.state.title?l.a.createElement("span",{style:{float:"right",color:"red"}},"Please provide an advert title!"):null,l.a.createElement("input",{type:"text",onChange:this.handleTitleChange,className:"form-control",id:"title",name:"title",placeholder:"Title",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"category"},l.a.createElement("b",null,"Category:")),"errorMsg"===this.state.categoryValue?l.a.createElement("span",{style:{float:"right",color:"red"}},"Please choose an advert category!"):null,l.a.createElement("select",{id:"category",onChange:this.handleCategoryChange,required:!0},l.a.createElement("option",null,"Select"),l.a.createElement("option",{value:"Electronics"},"Electronics"),l.a.createElement("option",{value:"Books"},"Books"),l.a.createElement("option",{value:"Vehicles"},"Vehicles"),l.a.createElement("option",{value:"Clothes"},"Clothes"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"ItemCondition"},l.a.createElement("b",null,"Condition:")),"errorMsg"===this.state.conditionValue?l.a.createElement("span",{style:{float:"right",color:"red"}},"Please choose item condition!"):null,l.a.createElement("select",{id:"ItemCondition",onChange:this.handleConditionChange,required:!0},l.a.createElement("option",null,"Select"),l.a.createElement("option",{value:"Brand\xa0new"},"Brand new"),l.a.createElement("option",{value:"Manufacturer\xa0refurbished"},"Manufacturer refurbished"),l.a.createElement("option",{value:"Slightly\xa0used"},"Slightly used"),l.a.createElement("option",{value:"Used"},"Used"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"price"},l.a.createElement("b",null,"Price (\xa3):")),l.a.createElement("input",{type:"number",onChange:this.handlePriceChange,placeholder:"0",min:"0",step:"1","data-number-to-fixed":"2","data-number-stepfactor":"100",className:"price",id:"askingPrice",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"city"},l.a.createElement("b",null,"City:")),"errorMsg"===this.state.city?l.a.createElement("span",{style:{float:"right",color:"red"}},"Please provide a city where available!"):null,l.a.createElement("input",{type:"text",onChange:this.handleCityChange,className:"form-control",id:"city",name:"city",placeholder:"City",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"description"},l.a.createElement("b",null,"Description:")),"errorMsg"===this.state.description?l.a.createElement("span",{style:{float:"right",color:"red"}},"Please provide a description of item!"):null,l.a.createElement("textarea",{className:"form-control",onChange:this.handleDescriptionChange,type:"textarea",id:"description",placeholder:"Description",maxLength:"2000",rows:"7"})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"photo"},l.a.createElement("b",null,"Add image:")),"errorMsg"===this.state.photo?l.a.createElement("span",{style:{float:"right",color:"red"}},"Please provide a photo!"):null,l.a.createElement("br",null),l.a.createElement("input",{type:"file",onChange:this.handleFileChange,id:"photo",name:"photo",required:!0})),!0===this.state.success?l.a.createElement("p",{className:"succesMsg"},l.a.createElement("b",null,"Advert has been added!")):null,l.a.createElement("button",{type:"button",id:"submit",name:"submit",onClick:this.onClick,className:"btn"},"Add Advert")))}}]),t}(n.Component)),I=a(123),L=a.n(I),T=(a(118),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={subject:"",message:"",errSub:!1,errMsg:!1,succes:!1},a.handleSubjectChange=a.handleSubjectChange.bind(Object(d.a)(Object(d.a)(a))),a.handleMessageChange=a.handleMessageChange.bind(Object(d.a)(Object(d.a)(a))),a.onClick=a.onClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleSubjectChange",value:function(e){this.setState({subject:e.target.value})}},{key:"handleMessageChange",value:function(e){this.setState({message:e.target.value})}},{key:"onClick",value:function(){var e=this,t=localStorage.getItem("MyStuffLogin"),a=localStorage.getItem("recipient");if(""===this.state.subject&&(console.log("Please choose a message subject first"),this.setState({errSub:!0})),""===this.state.message)console.log("Please write your message first"),this.setState({errMsg:!0});else{var n={author:t,recipient:a,subject:this.state.subject,message:this.state.message};(new E.a).sendMessage(n).then(function(t){201===t.status&&e.setState({success:!0}),console.log(t)}).catch(function(e){console.log("the following error has occured:"+e)})}}},{key:"render",value:function(){return l.a.createElement("form",{className:"addMessageForm"},l.a.createElement("h1",null,"Contact"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"subject"},l.a.createElement("b",null,"Subject:")),!0===this.state.errSub&""===this.state.subject?l.a.createElement("span",{style:{float:"right",color:"red"}},"Please provide the subject!"):null,l.a.createElement("input",{type:"text",onChange:this.handleSubjectChange,className:"form-control",id:"subject",name:"subject",placeholder:"Subject"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"message"},l.a.createElement("b",null,"Message:")),!0===this.state.errMsg&""===this.state.message?l.a.createElement("span",{style:{float:"right",color:"red"}},"Please write your message first!"):null,l.a.createElement("textarea",{className:"form-control",onChange:this.handleMessageChange,type:"textarea",id:"message",placeholder:"Your Message",maxLength:"1000",rows:"7"})),!0===this.state.success?l.a.createElement("p",{className:"succesMsg"},l.a.createElement("b",null,"Message to ",localStorage.getItem("recipient")," has been sent!")):null,l.a.createElement("button",{type:"button",id:"submit",name:"submit",onClick:this.onClick,className:"btn"},"Send"))}}]),t}(n.Component)),F=(a(311),a(313),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={fullMessage:!1,reply:!1},a.onClickHandler=a.onClickHandler.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"onClickHandler",value:function(e){e.preventDefault(),this.props.onClick(this.props.author,this.props.subject),this.setState({fullMessage:!0})}},{key:"render",value:function(){var e=this.props.date;return!1===this.state.fullMessage?l.a.createElement("div",{className:"card",onClick:this.onClickHandler},l.a.createElement("p",null,l.a.createElement("b",null,"Author: "),this.props.author),l.a.createElement("p",{className:"messageDate"},e),l.a.createElement("p",null,l.a.createElement("b",null,"Subject: "),this.props.subject)):!0===this.state.fullMessage?l.a.createElement("div",{className:"card",onClick:this.onClickHandler},l.a.createElement("p",null,l.a.createElement("b",null,"Author: "),this.props.author),l.a.createElement("p",{className:"messageDate"},this.props.date),l.a.createElement("p",null,l.a.createElement("b",null,"Subject: "),this.props.subject),l.a.createElement("div",{className:"replyBarea"},this.props.message,l.a.createElement(w.a,{to:"/reply",className:"replyB"},"Reply"))):void 0}}]),t}(n.Component)),B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={messageData:[],currentMessageData:[]},a.handleMessageClicked=a.handleMessageClicked.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleMessageClicked",value:function(e,t){console.log("message with author:"+e+"and subject: "+t+" was clicked"),localStorage.setItem("messageAuthor",e),localStorage.setItem("messageREsubject",t)}},{key:"componentDidMount",value:function(){var e=this;(new E.a).getMessagesByRecipient().then(function(t){console.log(t.data),e.setState({messageData:t.data})}).catch(function(e){console.log("error while getting messages"+e)})}},{key:"fx",value:function(){console.log("test")}},{key:"render",value:function(){var e=this;return 0===this.state.messageData.length?l.a.createElement("h1",null,"You don't have any messages yet."):l.a.createElement("div",null,this.state.messageData.map(function(t){return l.a.createElement("div",{key:t.id},l.a.createElement(F,{id:t.id,author:t.author,subject:t.subject,message:t.message,date:t.dateAndTime,onClick:e.handleMessageClicked}))}))}}]),t}(n.Component),V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={subject:"",message:"",errMsg:!1,success:!1},a.handleSubjectChange=a.handleSubjectChange.bind(Object(d.a)(Object(d.a)(a))),a.handleMessageChange=a.handleMessageChange.bind(Object(d.a)(Object(d.a)(a))),a.onClick=a.onClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleSubjectChange",value:function(e){this.setState({subject:e.target.value})}},{key:"handleMessageChange",value:function(e){this.setState({message:e.target.value})}},{key:"onClick",value:function(){var e=this,t=localStorage.getItem("MyStuffLogin"),a=localStorage.getItem("messageAuthor"),n=localStorage.getItem("messageREsubject");if(""===this.state.message)this.setState({errMsg:!0}),console.log("Please write your message");else{var l={author:t,recipient:a,subject:"RE: "+n,message:this.state.message};(new E.a).sendMessage(l).then(function(t){201===t.status&&e.setState({success:!0}),console.log(t)}).catch(function(e){console.log("the following error has occured:"+e)})}}},{key:"render",value:function(){return l.a.createElement("form",{className:"addMessageForm"},l.a.createElement("h1",null,"Reply"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"subject"},l.a.createElement("b",null,"Subject:")),l.a.createElement("input",{type:"text",onChange:this.handleSubjectChange,className:"form-control",id:"subject",name:"subject",placeholder:"RE: "+localStorage.getItem("messageREsubject"),disabled:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"message"},l.a.createElement("b",null,"Message:")),!0===this.state.errMsg&""===this.state.message?l.a.createElement("span",{style:{float:"right",color:"red"}},"Please write your message first!"):null,l.a.createElement("textarea",{className:"form-control",onChange:this.handleMessageChange,type:"textarea",id:"message",placeholder:"Your Message",maxLength:"1000",rows:"7"})),!0===this.state.success?l.a.createElement("p",{className:"succesMsg"},l.a.createElement("b",null,"Reply to ",localStorage.getItem("messageAuthor")," has been sent!")):null,l.a.createElement("button",{type:"button",id:"submit",name:"submit",onClick:this.onClick,className:"btn"},"Send"))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={currentView:"",adverts:[],homeAdverts:[],currentAdvert:null,fullAdvert:localStorage.getItem("fullAdvert ")},a.onSearch=a.onSearch.bind(Object(d.a)(Object(d.a)(a))),a.showHome=a.showHome.bind(Object(d.a)(Object(d.a)(a))),a.handleAdvertClicked=a.handleAdvertClicked.bind(Object(d.a)(Object(d.a)(a))),a.updateAdvertData=a.updateAdvertData.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"onSearch",value:function(e){console.log("search on term:"+e)}},{key:"showHome",value:function(){null!==this.state.currentAdvert&&this.setState({currentAdvert:null}),this.setState({currentView:"home"})}},{key:"handleAdvertClicked",value:function(e){if(console.log("advert with id:"+e+" was clicked"),"home"===this.state.currentView)for(var t=this.state.adverts.length,a=0;a<t;a++)if(this.state.adverts[a].id===e){var n=Object.assign({},this.state.adverts[a]);this.setState({currentView:"advert",currentAdvert:n})}}},{key:"updateAdvertData",value:function(e){var t=e.map(function(e){var t=e.description.substring(0,128);return{id:e.id,title:e.title,description:t,askingPrice:e.askingPrice,photo:e.photo}});this.setState({adverts:e,homeAdverts:t,currentView:"home"})}},{key:"componentDidMount",value:function(){(new E.a).getAdverts(12,1,this.updateAdvertData)}},{key:"render",value:function(){var e,t=this;if("advert"===this.state.currentView){var a=[this.state.currentAdvert];e=l.a.createElement(M,{adverts:a,colClass:"col-m-6",onClick:this.handleAdvertClicked,rowLength:1})}else"home"===this.state.currentView&&(e=l.a.createElement(M,{adverts:this.state.homeAdverts,colClass:"col-m-3",onClick:this.handleAdvertClicked,rowLength:4}));return l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(C,{title:"My Stuff",updateAdvertData:this.updateAdvertData,logo:L.a,onSearchClick:this.onSearch,onClickTitle:this.showHome}),l.a.createElement(p.a,{path:"/",exact:!0,render:function(){return l.a.createElement("div",null,e)}}),l.a.createElement(p.a,{path:"/signup",render:function(){return l.a.createElement("div",null,l.a.createElement(_,null))}}),l.a.createElement(p.a,{path:"/login",render:function(){return l.a.createElement("div",null,l.a.createElement(D,null))}}),l.a.createElement(p.a,{path:"/addAdvert",render:function(){return localStorage.getItem("MyStuffLogin")?l.a.createElement("div",null,l.a.createElement(P,null)):l.a.createElement(g.a,{to:"/login"})}}),l.a.createElement(p.a,{path:"/sendMessage",render:function(){return localStorage.getItem("MyStuffLogin")?l.a.createElement("div",null,l.a.createElement(T,null)):l.a.createElement(g.a,{to:"/login"})}}),l.a.createElement(p.a,{path:"/myMessages",render:function(){return localStorage.getItem("MyStuffLogin")?l.a.createElement(B,{onClick:t.handleAdvertClicked}):l.a.createElement(g.a,{to:"/login"})}}),l.a.createElement(p.a,{path:"/reply",render:function(){return localStorage.getItem("MyStuffLogin")?l.a.createElement(V,null):l.a.createElement(g.a,{to:"/login"})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[125,2,1]]]);
//# sourceMappingURL=main.de44fe55.chunk.js.map